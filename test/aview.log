! Adams View Adams 2022.2 (built Jun 24 2022)
! Graphics:  OpenGL

! >> 
! needed to be sure ADrill runs at optimum speed in batch mode
! >> ! needed to be sure ADrill runs at optimum speed in batch mode
defaults solver compatibility_checking = off
! >> defaults solver compatibility_checking = off

! >> 
colors modify color_name = Background red=(.43*.57) green=(.84*.57) blue=(.97*.57)
! >> colors modify color_name = Background red=(.43*.57) green=(.84*.57) blue=(.97*.57)
defaults icon_naming show_as = partial_name
! >> defaults icon_naming show_as = partial_name

! >> 
! Load Custom Menu
! >> ! Load Custom Menu
interface menubar read menubar=.gui.main.mmenu_menu.mbar_refresh file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\menu.mnu"
! >> interface menubar read menubar=.gui.main.mmenu_menu.mbar_refresh file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\menu.mnu"

! >> 
! Create Library
! >> ! Create Library
if condition=1
! >> if condition=1
 library create library_name = .athorn
! +1>>  library create library_name = .athorn
end
! +1>> end

! >> 
! Load Macros
! >> ! Load Macros
macro read macro_name = .MDI.delete_macro file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\delete_macro.mac"
! >> macro read macro_name = .MDI.delete_macro file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\delete_macro.mac"
macro read macro_name = .athorn.mid_marker file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\mid_marker.mac" user="athorn mid_marker"
! >> macro read macro_name = .athorn.mid_marker file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\mid_marker.mac" user="athorn mid_marker"
macro read macro_name = .athorn.hide_others file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\hide_others.mac" user="athorn hide_others"
! >> macro read macro_name = .athorn.hide_others file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\hide_others.mac" user="athorn hide_others"
macro read macro_name = .athorn.ppt_winmax file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\ppt_winmax.mac" user="athorn ppt_winmax"
! >> macro read macro_name = .athorn.ppt_winmax file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\ppt_winmax.mac" user="athorn ppt_winmax"
macro read macro_name = .athorn.pick_from_screen file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\pick_from_screen.mac" user="athorn pick_from_screen"
! >> macro read macro_name = .athorn.pick_from_screen file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\pick_from_screen.mac" user="athorn pick_from_screen"

! >> 
! Set Environment Variables
! >> ! Set Environment Variables
var set var=.mdi.tmp_int int=0
! >> var set var=.mdi.tmp_int int=0
var set var=.mdi.tmp_int int=0
! >> var set var=.mdi.tmp_int int=0

! >> 
! Random Customizations
! >> ! Random Customizations
interface field    display field_name=.gui.sim_int_panel.c_interactive.step_size
! >> interface field    display field_name=.gui.sim_int_panel.c_interactive.step_size
interface field undisplay field_name=.gui.sim_int_panel.c_interactive.number_of_steps
! >> interface field undisplay field_name=.gui.sim_int_panel.c_interactive.number_of_steps

! >> 
! Hide buttons I don't use
! >> ! Hide buttons I don't use
int push_button undisplay push_button_name = .gui.main.standard_toolbar.view_fit 
! >> int push_button undisplay push_button_name = .gui.main.standard_toolbar.view_fit 
int push_button undisplay push_button_name = .gui.main.standard_toolbar.zoom_box 
! >> int push_button undisplay push_button_name = .gui.main.standard_toolbar.zoom_box 
int push_button undisplay push_button_name = .gui.main.standard_toolbar.view_center 
! >> int push_button undisplay push_button_name = .gui.main.standard_toolbar.view_center 
int btn_stack undisplay btn_stack_name = .gui.main.standard_toolbar.dyn_view_tra_ro 
! >> int btn_stack undisplay btn_stack_name = .gui.main.standard_toolbar.dyn_view_tra_ro 
int btn_stack undisplay btn_stack_name = .gui.main.standard_toolbar.dyn_tra_depth 
! >> int btn_stack undisplay btn_stack_name = .gui.main.standard_toolbar.dyn_tra_depth 
int push_button undisplay push_button_name = .gui.main.standard_toolbar.view_zoom 
! >> int push_button undisplay push_button_name = .gui.main.standard_toolbar.view_zoom 
! Found 3 Graphic_Interface_Field entities matching "*": .gui.main.standard_toolbar.rinc_f, 
! .gui.main.standard_toolbar.tinc_f, .gui.main.standard_toolbar.zinc_f
int field display field_name = .gui.main.standard_toolbar.*
! >> int field display field_name = .gui.main.standard_toolbar.*
! ---------------------------------------------------------------------
! >> ! ---------------------------------------------------------------------
! Run Startup Scripts
! >> ! Run Startup Scripts
! ---------------------------------------------------------------------
! >> ! ---------------------------------------------------------------------
! file command read file = "C:\Program Files\MSC.Software\Adams\aview_mods_gen\part_multi_edit.cmd"
! >> ! file command read file = "C:\Program Files\MSC.Software\Adams\aview_mods_gen\part_multi_edit.cmd"
file command read file = "C:\Program Files\MSC.Software\Adams\aview_mods_gen\vis_buttons.cmd"
! >> file command read file = "C:\Program Files\MSC.Software\Adams\aview_mods_gen\vis_buttons.cmd"
! >> 
! >> if condition=(eval(db_exists(".gui.main.vis_toolbar")))
! -1>>     interface toolbar delete toolbar_name=.gui.main.vis_toolbar
! -1>> end
! >> interface toolbar create &
! &>     toolbar = .gui.main.vis_toolbar &
! &>     location = 0,0 &
! &>     width = 100 &
! &>     height = 25 &
! &>     units = pixel &
! &>     top = no &
! &>     rank = 1
! >> 
! >> interface toolbar display toolbar=.gui.main.vis_toolbar
! >> 
! >> 
! >> if condition=(eval(db_exists(".gui.ppt_main.vis_toolbar")))
! -1>>     interface toolbar delete toolbar_name=.gui.ppt_main.vis_toolbar
! -1>> end
! >> interface toolbar create &
! &>     toolbar = .gui.ppt_main.vis_toolbar &
! &>     location = 0,0 &
! &>     width = 100 &
! &>     height = 25 &
! &>     units = pixel &
! &>     top = no &
! &>     rank = 1
! >> 
! >> interface toolbar display toolbar=.gui.ppt_main.vis_toolbar
! >> 
! >> for var=.mdi.toolbar  obj=.gui.main.vis_toolbar, .gui.ppt_main.vis_toolbar
! +1>>     
! +1>>     var set var=.mdi.types str="part", "marker", "constraint", "force", "spring"
! +1>>     for var=.mdi.idx_ start_value=1 end_value=(rows(.mdi.types))
! +2>>         var set var=.mdi.idx int=(eval(nint(.mdi.idx_)))
! +2>>         var set var=.mdi.type str=(eval(.mdi.types[.mdi.idx]))
! +2>> 
! +2>>         if condition=(eval(db_exists(.mdi.toolbar // ".show_" // .mdi.type // "s")))
! -3>>             interface toggle_button delete toggle_button_name=(eval(.mdi.toolbar // ".show_" // .mdi.type // "s"))
! -3>>         end
! +2>> 
! +2>>         if condition=(eval(.mdi.idx==1))
! +3>>             var set var=.mdi.location real=(eval(.gui.main.width-100)), 4
! +3>>         else
! -3>>             var set var=.mdi.prev_type str=(eval(.mdi.types[.mdi.idx-1]))
! -3>>             var set var=.mdi.prev_button obj=(eval(.mdi.toolbar // ".show_" // .mdi.prev_type // "s"))
! -3>>         
! -3>>             var set var=.mdi.location real=(eval(.mdi.prev_button.object_value.location[1]-40)), 4
! -3>> 
! -3>>         end
! +2>>         
! +2>>         if condition=(eval(.mdi.type=="constraint"))
! -3>>             var set var=.mdi.icon str = "joint"
! -3>>         elseif condition=(eval(.mdi.type=="force"))
! -3>>             var set var=.mdi.icon str = "Force_Vector"
! -3>>         else
! +3>>             var set var=.mdi.icon str = (eval(.mdi.type))
! +3>>         end
! +2>>       
! +2>>         interface toggle_button create &
! +2&>             toggle_button_name=(eval(.mdi.toolbar // ".show_" // .mdi.type // "s")) &
! +2&>             ! label=(eval(.mdi.type // "s")) &
! +2&>             hit = (eval(.mdi.icon) // "_H.png") &
! +2&>             icon = (eval(.mdi.icon) // ".png") & 
! +2&>             location=(eval(.mdi.location)) &
! +2&>             height = 16 &
! +2&>             width = 40 &
! +2&>             units = pixel &
! +2&>             vert_resizing = attach_bottom &
! +2&>             horiz_resizing = attach_right &
! +2&>             commands = (eval("entity attributes entity_name = * type_filter = " // .mdi.type // " visibility=(eval(($_self.state==1)? 'off':'on'))")), "interface model_browser refresh" &
! +2&>             state = on
! +2>>     end
! +1>> 
! +1>>     if condition=(eval(db_exists(.mdi.toolbar // ".transparency_slider")))
! -2>>         interface slider delete slider_name=(eval(.mdi.toolbar.object_value.transparency_slider))
! -2>>     end
! +1>> 
! +1>>     int separator create &
! +1&>         separator_name = (eval(.mdi.toolbar.object_value // ".sep_1")) &
! +1&>         location = (eval(stoo(.mdi.toolbar // ".show_" // .mdi.type // "s").location[1]-20)), (eval(stoo(.mdi.toolbar // ".show_" // .mdi.type // "s").location[2])) &
! +1&>         height = 16 &
! +1&>         width = 10 &
! +1&>         units = pixel &
! +1&>         isvertical = yes &
! +1&>         vert_resizing = attach_bottom &
! +1&>         horiz_resizing = attach_right
! +1>> 
! +1>>     int slider create &
! +1&>         slider_name = (eval(.mdi.toolbar.object_value // ".transparency_slider")) &
! +1&>         location = (eval(.mdi.toolbar.object_value.sep_1.location[1]-115)), (eval(stoo(.mdi.toolbar // ".show_" // .mdi.type // "s").location[2])) &
! +1&>         height = 16 &
! +1&>         width = 100 &
! +1&>         units = pixel &
! +1&>         vert_resizing = attach_bottom &
! +1&>         horiz_resizing = attach_right &
! +1&>         help_text = "Transparency of selected object(s)" &
! +1&>         minimum = 0 &
! +1&>         maximum = 99 &
! +1&>         value = 0 &
! +1&>         show_value = no &
! +1&>         commands =          "if condition=(eval(DB_COUNT(.select_list, \"objects_in_group\")))", & 
! +1&>                     (eval(  "   entity attributes entity_name = (eval(.SELECT_LIST.objects)) transparency=(eval($_self.value))")), & ! "
! +1&>                             "end" &
! +1&>         live_drag = yes
! +1>> 
! +1>>     int separator create &
! +1&>         separator_name = (eval(.mdi.toolbar.object_value // ".sep_2")) &
! +1&>         location = (eval(.mdi.toolbar.object_value.transparency_slider.location[1]-20)), (eval(stoo(.mdi.toolbar // ".show_" // .mdi.type // "s").location[2])) &
! +1&>         height = 16 &
! +1&>         width = 10 &
! +1&>         units = pixel &
! +1&>         isvertical = yes &
! +1&>         vert_resizing = attach_bottom &
! +1&>         horiz_resizing = attach_right
! +1>>     
! +1>> 
! +1>>     int slider create &
! +1&>         slider_name = (eval(.mdi.toolbar.object_value // ".force_graphic_slider")) &
! +1&>         location = (eval(.mdi.toolbar.object_value.sep_2.location[1]-105)), (eval(stoo(.mdi.toolbar // ".show_" // .mdi.type // "s").location[2])) &
! +1&>         height = 7 &
! +1&>         width = 100 &
! +1&>         units = pixel &
! +1&>         vert_resizing = attach_bottom &
! +1&>         horiz_resizing = attach_right &
! +1&>         minimum = -1 &
! +1&>         maximum = 1 &
! +1&>         value = 1 &
! +1&>         show_value = no &
! +1&>         commands = "default force force_scale=(eval(($_self.value>0)? .system_defaults.force_force_scale*2:.system_defaults.force_force_scale/2))" & 
! +1&>         live_drag = yes
! +1>> 
! +1>> 
! +1>>     int slider create &
! +1&>         slider_name = (eval(.mdi.toolbar.object_value // ".torque_graphic_slider")) &
! +1&>         location = (eval(.mdi.toolbar.object_value.sep_2.location[1]-105)), (eval(stoo(.mdi.toolbar // ".show_" // .mdi.type // "s").location[2]+9)) &
! +1&>         height = 7 &
! +1&>         width = 100 &
! +1&>         units = pixel &
! +1&>         vert_resizing = attach_bottom &
! +1&>         horiz_resizing = attach_right &
! +1&>         minimum = -1 &
! +1&>         maximum = 1 &
! +1&>         value = 1 &
! +1&>         show_value = no &
! +1&>         commands = "default force torque_scale=(eval(($_self.value>0)? .system_defaults.force_torque_scale*2:.system_defaults.force_torque_scale/2))" & 
! +1&>         live_drag = yes
! +1>>     
! +1>> 
! +1>>     interface push_button create &
! +1&>         push_button_name = (eval(.mdi.toolbar.object_value // ".force_wireframe_chckbx")) &
! +1&>         ! label="wire" &
! +1&>         icon = "C:/Program Files/MSC.Software/Adams/aview_mods_gen/wire_force_vector.bmp" &
! +1&>         location = (eval(.mdi.toolbar.object_value.force_graphic_slider.location[1]-35)), (eval(stoo(.mdi.toolbar // ".show_" // .mdi.type // "s").location[2])) &
! +1&>         height = 16 &
! +1&>         width = 30 &
! +1&>         units = pixel &
! +1&>         vert_resizing = attach_bottom &
! +1&>         horiz_resizing = attach_right &
! +1&>         commands = (eval("default force display_wireframe=(eval((.system_defaults.force_display_wireframe==0)? 'yes':'no'))"))
! +1>> 
! +1>>     int tool mod tool=.gui.main.status_toolbar rank = 2
! +1>>     var del var=.mdi.types, .mdi.type, .mdi.location, .mdi.prev_button, .mdi.prev_type, .mdi.idx
! +1>> 
! +1>> 
! +1>> 
! +1>> end

! >> 
! ---------------------------------------------------------------------
! >> ! ---------------------------------------------------------------------
! Settings
! >> ! Settings
! ---------------------------------------------------------------------
! >> ! ---------------------------------------------------------------------
! Units
! >> ! Units
default units &
! >> default units &
   length=inch &
! &>    length=inch &
   mass=pound_mass &
! &>    mass=pound_mass &
   force=pound_force &
! &>    force=pound_force &
   time=second &
! &>    time=second &
   angle=degrees &
! &>    angle=degrees &
   frequency=hz
! &>    frequency=hz

! >> 
! Plotting
! >> ! Plotting
defaults plt_attributes plot_auto_title = "on"
! >> defaults plt_attributes plot_auto_title = "on"
defaults plt_attributes plot_auto_subtitle = "on"
! >> defaults plt_attributes plot_auto_subtitle = "on"
defaults plt_attributes plot_auto_date = "off"
! >> defaults plt_attributes plot_auto_date = "off"
defaults plt_attributes plot_auto_analysis_name = "off"
! >> defaults plt_attributes plot_auto_analysis_name = "off"
defaults plt_attributes plot_table = "no"
! >> defaults plt_attributes plot_table = "no"
default plt_attributes legend_font_size=5
! >> default plt_attributes legend_font_size=5
default plt_attributes date_note_font_size=5
! >> default plt_attributes date_note_font_size=5
default plt_attributes subtitle_font_size=5
! >> default plt_attributes subtitle_font_size=5
default plt_attributes title_font_size=5
! >> default plt_attributes title_font_size=5
default plt_attributes table_font_size=5
! >> default plt_attributes table_font_size=5
default plotting axis_numbers_font_size=5
! >> default plotting axis_numbers_font_size=5
default plotting axis_label_font_size=5
! >> default plotting axis_label_font_size=5
default report base_font_size=5
! >> default report base_font_size=5

! >> 
! ---------------------------------------------------------------------
! >> ! ---------------------------------------------------------------------
! Run Python Setup
! >> ! Run Python Setup
! ---------------------------------------------------------------------
! >> ! ---------------------------------------------------------------------
file python read file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\setup.py"
! >> file python read file="C:\Program Files\MSC.Software\Adams\aview_mods_gen\setup.py"

! >> 
! ---------------------------------------------------------------------
! >> ! ---------------------------------------------------------------------
! Load user aviewBS.cmd
! >> ! Load user aviewBS.cmd
! ---------------------------------------------------------------------
! >> ! ---------------------------------------------------------------------
if condition=0
! >> if condition=0
 file command read file_name=(eval(getenv("MSC_ADAMS_STARTIN_DIR") // "\\aviewBS.cmd"))
! -1>>  file command read file_name=(eval(getenv("MSC_ADAMS_STARTIN_DIR") // "\\aviewBS.cmd"))
end
! -1>> end

! >> 

! >> 

! >> 
! Add some paths
! >> ! Add some paths
! aview toolkit putenv &
! >> ! aview toolkit putenv &
!     env = "PATH" &
! >> !     env = "PATH" &
!     value = (eval(str_replace_all(getenv("topdir"), "/", "\\\\") // "python\\\\win64;" // str_replace_all(getenv("topdir"), "/", "\\\\") // "python\\\\win64\\\\DLLs;" // str_replace_all(getenv("topdir"), "/", "\\\\") // "python\\\\win64\\\\Scripts;" // str_replace_all(getenv("path"), "\\", "\\\\")))
! >> !     value = (eval(str_replace_all(getenv("topdir"), "/", "\\\\") // "python\\\\win64;" // str_replace_all(getenv("topdir"), "/", "\\\\") // "python\\\\win64\\\\DLLs;" // str_replace_all(getenv("topdir"), "/", "\\\\") // "python\\\\win64\\\\Scripts;" // str_replace_all(getenv("path"), "\\", "\\\\")))
! Enter a command, '?', or 'help'.
! Automatically executing Command file aview.cmd.
! Re-use the menu dialog
 int dia dis dia=.gui.model_cremod par=""
interface dialog execute dialog=.gui.model_cremod undisp=yes
! .gui.model_cremod / Exe - begin ===========================
! Create mode 
if cond=( str_is_space( "" ) )
   model create model="test" &
      comments=""
   ! special section for gravity toggle
   if cond=( "" != "" )
      if cond=(  )
         var set var=.gui.model_cremod.gravity_name &
            str=(eval( db_default(system_defaults, "model")//".GRAVITY" ))
         force create body gravitational &
            gravity_field_name=(eval( .gui.model_cremod.gravity_name )) &
            x_component_gravity = (eval( .gui.model_cremod.gravity_field_to_copy.object_value.x_component_gravity )) &
            y_component_gravity = (eval( .gui.model_cremod.gravity_field_to_copy.object_value.y_component_gravity )) &
            z_component_gravity = (eval( .gui.model_cremod.gravity_field_to_copy.object_value.z_component_gravity )) 
       end
   end
   if con=("" != "")
     interface field set field= string=(eval(DB_DEFAULT_NAME_FOR_TYPE(test, "model")))
   end
end
! Update mode 
if cond=( ! str_is_space( "" ) )
   model modify model=test &
      comments=(eval( .gui.model_cremod.entity_comments ))
end
! .gui.model_cremod / Exe - end ===========================

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
! CREATE SPHERE
undo begin
default coordinate_system default_coordinate_system=.test
part create rigid_body name_and_position part_name=.test.PART_2 adams_id=2
part modify rigid_body mass_properties part_name=.test.PART_2 material=.materials.steel
part attributes part_name=.test.PART_2 color=RED name_vis=off
marker create marker=.test.PART_2.MARKER_1 &
    adams_id=1 &
    location=0.0, 0.0, 0.0 &
    orientation=0.0, 0.0, 0.0
geometry create shape ellipsoid &
    ellipsoid_name=.test.PART_2.ELLIPSOID_1 &
    x_scale_factor=(2*(8.8034172343inch)) &
    y_scale_factor=(2*(8.8034172343inch)) &
    z_scale_factor=(2*(8.8034172343inch)) &
    center_marker=.test.PART_2.MARKER_1
group modify group=SELECT_LIST object=.test.PART_2
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!  SELECT OBJECT
undo begin
group empty group=SELECT_LIST
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

int field set field=.gui.gravity_panel.y str="-386.0885826772" 
int field set field=.gui.gravity_panel.x str="0"
int field set field=.gui.gravity_panel.z str="0"
interface dialog execute dialog=.gui.gravity_panel undisp=yes
   force modify body gravitational gravity = ACCGRAV_1 &
      x_comp = 0 &
      y_comp = -386.0885826772 &
      z_comp = 0

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
! CREATE SPRING_
undo begin
marker create marker=.test.PART_2.MARKER_2 &
    adams_id=2 &
    location=0.0, 0.0, 0.0 &
    orientation=0,0,0
marker create marker=.test.ground.MARKER_3 &
    adams_id=3 &
    location=0.0, 17.7165354331, 0.0 &
    orientation=0,0,0
undo begin suppress=yes
   assembly create instance instance=.test.SPRING_1 &
      definition=.mdi.forces.spring
   variable modify variable=.test.SPRING_1.i_marker obj=(.test.PART_2.MARKER_2)
   variable modify variable=.test.SPRING_1.j_marker obj=(.test.ground.MARKER_3)
   variable modify variable=.test.SPRING_1.stiffness_mode str="linear"
   variable modify variable=.test.SPRING_1.stiffness_coefficient real=(8.5652207321(pound_force/inch))
   variable modify variable=.test.SPRING_1.stiffness_spline obj=(none)
   variable modify variable=.test.SPRING_1.damping_mode str="linear"
   variable modify variable=.test.SPRING_1.damping_coefficient real=(2.1127544473(pound_force-sec/inch))
   variable modify variable=.test.SPRING_1.damping_spline obj=(none)
   variable modify variable=.test.SPRING_1.free_length_mode str="design_length"
   variable modify variable=.test.SPRING_1.i_dynamic_visibility str="on"
   variable modify variable=.test.SPRING_1.j_dynamic_visibility str="off"
   entity attributes entity_name=.test.SPRING_1 color=red
undo end
group modify group=SELECT_LIST object=.test.SPRING_1
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!  SELECT OBJECT
undo begin
group modify group=SELECT_LIST object=.test.SPRING_1
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!  MODIFY OBJECT
undo begin
mdi modify_macro
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

interface dialog execute dialog=.gui.spring_cremod undisp=yes
! .gui.spring_cremod / Exe - begin  ===========================
! Handle topology change (suppress 'must be on different parts' errors)
interface field modify field=.gui.spring_cremod.action_body   enabled=yes
interface field modify field=.gui.spring_cremod.reaction_body enabled=yes
undo begin suppress=yes
IF condition=(DB_EXISTS(EVAL(.test.SPRING_1.i_marker)))
   IF cond=( ".test.PART_2" != "" )
      mdi marker set_parent marker=MARKER_2 new_parent=.test.PART_2
   END
END
IF condition=(DB_EXISTS(EVAL(.test.SPRING_1.j_marker)))
   IF cond=( ".test.ground" != "" )
      mdi marker set_parent marker=MARKER_3 new_parent=.test.ground
   END
END
undo end
! Change characteristic
var set var=.test.SPRING_1.stiffness_mode          str="linear"
var set var=.test.SPRING_1.stiffness_coefficient  real=(8.5652207321(pound_force/inch))

var set var=.test.SPRING_1.damping_mode           str="linear"
var set var=.test.SPRING_1.damping_coefficient   real=(2.1127544473(pound_force-sec/inch))

var set var=.test.SPRING_1.free_length_mode      str="Design_Length"

var set var=.test.SPRING_1.preload                      real=0.0
var set var=.test.SPRING_1.spring_visibility   str="depends"
var set var=.test.SPRING_1.damper_visibility   str="depends"
interface option_menu modify option_menu_name = .gui.spring_cremod.display_option  enabled = yes
var set var=.test.SPRING_1.i_dynamic_visibility   str="On"
var set var=.test.SPRING_1.j_dynamic_visibility   str="Off"
assembly mod ins ins=.test.SPRING_1 comments=""
!###
IF condition=( (DB_TYPE(EVAL(.test.SPRING_1).parent)) == "UDE_DEFINITION" ) 
   interface field modify field=.gui.spring_cremod.action_body   enabled = no
   interface field modify field=.gui.spring_cremod.reaction_body enabled = no
   interface option_menu modify option_menu_name = .gui.spring_cremod.display_option  enabled = no
END
! .gui.spring_cremod / Exe - end  ===========================

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!  SELECT OBJECT
undo begin
group empty group=SELECT_LIST
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

if cond=("" == "interactive")
   int cont undisp cont=c_scripted
   int cont disp cont=c_interactive
else
   int cont disp cont=c_scripted
   int cont undisp cont=c_interactive
end
if cond=((.gui.sim_int_panel.c_interactive.displayed == 1)) 
   if cond=((.gui.sim_int_panel.c_interactive.duration.displayed == 1)   && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Duration."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.end_time.displayed == 1) &&(eval("1"))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter End Time."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.step_size.displayed == 1)    && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Step Size."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.number_of_steps.displayed == 1)   && (eval("50"))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Steps."
return
   end
end
if cond=(.gui.fft_panel.displayed == 1) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Please close the FFT dialog_box before running the simulation."
return
end
if condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings apply &
      file =  
   end
end
var set var = .mdi.errno int=0
if cond=("Interactive" == "interactive")
   if cond=0
      simulation single reset
   end
   if cond=("End Time" == "Forever")
      simulation single trans &
         type             = auto_select   &
         initial_static   = no    &
         forever          = true               &
         
   else
      simulation single trans &
         type             = auto_select   &
         initial_static   = no    &
                  &
         end_time        = 1         &
                 &
         number_of_steps = 50
! VERIFY MODEL: .test
! 
!    6 Gruebler Count (approximate degrees of freedom)
!    1 Moving Parts (not including ground)
! 
!    6 Degrees of Freedom for .test
! 
! There are no redundant constraint equations.
! 
! 
! Model verified successfully
      end
else
   simulation single scripted &
      sim_script_name =  &
      reset_before_and_after = 
end
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.sim_int_panel.run.file_to_tmp int = (eval(SET_TSF_FILE_ANALYSIS((eval(DB_DEFAULT(.system_defaults,"model"))),STOO(".gui.int_tsf_final_list"))))
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings revert
   End
End
mdi gui_utl_check_sim alert_done=no alert_stop=no
var set var = .mdi.errno int=0   ! in case a simulation is running
abort stop_all_commands=no
simulation single reset
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      file temporary_settings revert
   End
End
interface dialog undisplay dialog=.gui.sim_int_panel

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!  SELECT OBJECT
undo begin
group modify group=SELECT_LIST object=.test.SPRING_1
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!  MODIFY OBJECT
undo begin
mdi modify_macro
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

interface dialog execute dialog=.gui.spring_cremod undisp=yes
! .gui.spring_cremod / Exe - begin  ===========================
! Handle topology change (suppress 'must be on different parts' errors)
interface field modify field=.gui.spring_cremod.action_body   enabled=yes
interface field modify field=.gui.spring_cremod.reaction_body enabled=yes
undo begin suppress=yes
IF condition=(DB_EXISTS(EVAL(.test.SPRING_1.i_marker)))
   IF cond=( ".test.PART_2" != "" )
      mdi marker set_parent marker=MARKER_2 new_parent=.test.PART_2
   END
END
IF condition=(DB_EXISTS(EVAL(.test.SPRING_1.j_marker)))
   IF cond=( ".test.ground" != "" )
      mdi marker set_parent marker=MARKER_3 new_parent=.test.ground
   END
END
undo end
! Change characteristic
var set var=.test.SPRING_1.stiffness_mode          str="linear"
var set var=.test.SPRING_1.stiffness_coefficient  real=1000

var set var=.test.SPRING_1.damping_mode           str="linear"
var set var=.test.SPRING_1.damping_coefficient   real=100

var set var=.test.SPRING_1.free_length_mode      str="Design_Length"

var set var=.test.SPRING_1.preload                      real=0.0
var set var=.test.SPRING_1.spring_visibility   str="depends"
var set var=.test.SPRING_1.damper_visibility   str="depends"
interface option_menu modify option_menu_name = .gui.spring_cremod.display_option  enabled = yes
var set var=.test.SPRING_1.i_dynamic_visibility   str="On"
var set var=.test.SPRING_1.j_dynamic_visibility   str="Off"
assembly mod ins ins=.test.SPRING_1 comments=""
!###
IF condition=( (DB_TYPE(EVAL(.test.SPRING_1).parent)) == "UDE_DEFINITION" ) 
   interface field modify field=.gui.spring_cremod.action_body   enabled = no
   interface field modify field=.gui.spring_cremod.reaction_body enabled = no
   interface option_menu modify option_menu_name = .gui.spring_cremod.display_option  enabled = no
END
! .gui.spring_cremod / Exe - end  ===========================
if cond=("" == "interactive")
   int cont undisp cont=c_scripted
   int cont disp cont=c_interactive
else
   int cont disp cont=c_scripted
   int cont undisp cont=c_interactive
end
if cond=((.gui.sim_int_panel.c_interactive.displayed == 1)) 
   if cond=((.gui.sim_int_panel.c_interactive.duration.displayed == 1)   && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Duration."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.end_time.displayed == 1) &&(eval("1.0"))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter End Time."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.step_size.displayed == 1)    && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Step Size."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.number_of_steps.displayed == 1)   && (eval("50"))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Steps."
return
   end
end
if cond=(.gui.fft_panel.displayed == 1) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Please close the FFT dialog_box before running the simulation."
return
end
if condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings apply &
      file =  
   end
end
var set var = .mdi.errno int=0
if cond=("Interactive" == "interactive")
   if cond=0
      simulation single reset
   end
   if cond=("End Time" == "Forever")
      simulation single trans &
         type             = auto_select   &
         initial_static   = no    &
         forever          = true               &
         
   else
      simulation single trans &
         type             = auto_select   &
         initial_static   = no    &
                  &
         end_time        = 1.0         &
                 &
         number_of_steps = 50
! VERIFY MODEL: .test
! 
!    6 Gruebler Count (approximate degrees of freedom)
!    1 Moving Parts (not including ground)
! 
!    6 Degrees of Freedom for .test
! 
! There are no redundant constraint equations.
! 
! 
! Model verified successfully
      end
else
   simulation single scripted &
      sim_script_name =  &
      reset_before_and_after = 
end
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.sim_int_panel.run.file_to_tmp int = (eval(SET_TSF_FILE_ANALYSIS((eval(DB_DEFAULT(.system_defaults,"model"))),STOO(".gui.int_tsf_final_list"))))
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings revert
   End
End
mdi gui_utl_check_sim alert_done=no alert_stop=no
var set var = .mdi.errno int=0   ! in case a simulation is running
abort stop_all_commands=yes
abort stop_all_commands=no
simulation single reset
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      file temporary_settings revert
   End
End
interface dialog undisplay dialog=.gui.sim_int_panel

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!  SELECT OBJECT
undo begin
group modify group=SELECT_LIST object=.test.SPRING_1
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!  MODIFY OBJECT
undo begin
mdi modify_macro
undo end
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

interface dialog execute dialog=.gui.spring_cremod undisp=yes
! .gui.spring_cremod / Exe - begin  ===========================
! Handle topology change (suppress 'must be on different parts' errors)
interface field modify field=.gui.spring_cremod.action_body   enabled=yes
interface field modify field=.gui.spring_cremod.reaction_body enabled=yes
undo begin suppress=yes
IF condition=(DB_EXISTS(EVAL(.test.SPRING_1.i_marker)))
   IF cond=( ".test.PART_2" != "" )
      mdi marker set_parent marker=MARKER_2 new_parent=.test.PART_2
   END
END
IF condition=(DB_EXISTS(EVAL(.test.SPRING_1.j_marker)))
   IF cond=( ".test.ground" != "" )
      mdi marker set_parent marker=MARKER_3 new_parent=.test.ground
   END
END
undo end
! Change characteristic
var set var=.test.SPRING_1.stiffness_mode          str="linear"
var set var=.test.SPRING_1.stiffness_coefficient  real=100.0

var set var=.test.SPRING_1.damping_mode           str="linear"
var set var=.test.SPRING_1.damping_coefficient   real=1

var set var=.test.SPRING_1.free_length_mode      str="Design_Length"

var set var=.test.SPRING_1.preload                      real=0.0
var set var=.test.SPRING_1.spring_visibility   str="depends"
var set var=.test.SPRING_1.damper_visibility   str="depends"
interface option_menu modify option_menu_name = .gui.spring_cremod.display_option  enabled = yes
var set var=.test.SPRING_1.i_dynamic_visibility   str="On"
var set var=.test.SPRING_1.j_dynamic_visibility   str="Off"
assembly mod ins ins=.test.SPRING_1 comments=""
!###
IF condition=( (DB_TYPE(EVAL(.test.SPRING_1).parent)) == "UDE_DEFINITION" ) 
   interface field modify field=.gui.spring_cremod.action_body   enabled = no
   interface field modify field=.gui.spring_cremod.reaction_body enabled = no
   interface option_menu modify option_menu_name = .gui.spring_cremod.display_option  enabled = no
END
! .gui.spring_cremod / Exe - end  ===========================
if cond=("" == "interactive")
   int cont undisp cont=c_scripted
   int cont disp cont=c_interactive
else
   int cont disp cont=c_scripted
   int cont undisp cont=c_interactive
end
if cond=((.gui.sim_int_panel.c_interactive.displayed == 1)) 
   if cond=((.gui.sim_int_panel.c_interactive.duration.displayed == 1)   && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Duration."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.end_time.displayed == 1) &&(eval("1.0"))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter End Time."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.step_size.displayed == 1)    && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Step Size."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.number_of_steps.displayed == 1)   && (eval("50"))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Steps."
return
   end
end
if cond=(.gui.fft_panel.displayed == 1) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Please close the FFT dialog_box before running the simulation."
return
end
if condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings apply &
      file =  
   end
end
var set var = .mdi.errno int=0
if cond=("Interactive" == "interactive")
   if cond=0
      simulation single reset
   end
   if cond=("End Time" == "Forever")
      simulation single trans &
         type             = auto_select   &
         initial_static   = no    &
         forever          = true               &
         
   else
      simulation single trans &
         type             = auto_select   &
         initial_static   = no    &
                  &
         end_time        = 1.0         &
                 &
         number_of_steps = 50
! VERIFY MODEL: .test
! 
!    6 Gruebler Count (approximate degrees of freedom)
!    1 Moving Parts (not including ground)
! 
!    6 Degrees of Freedom for .test
! 
! There are no redundant constraint equations.
! 
! 
! Model verified successfully
      end
else
   simulation single scripted &
      sim_script_name =  &
      reset_before_and_after = 
end
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.sim_int_panel.run.file_to_tmp int = (eval(SET_TSF_FILE_ANALYSIS((eval(DB_DEFAULT(.system_defaults,"model"))),STOO(".gui.int_tsf_final_list"))))
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings revert
   End
End
mdi gui_utl_check_sim alert_done=no alert_stop=no
var set var = .mdi.errno int=0   ! in case a simulation is running
abort stop_all_commands=yes
abort stop_all_commands=no
simulation single reset
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      file temporary_settings revert
   End
End
interface dialog undisplay dialog=.gui.sim_int_panel
! We cannot modify the script type once it is created
if cond=( .gui.simulation_script_cremod.script_type_to_keep >= 0 )
   if cond=( .gui.simulation_script_cremod.script_type_to_keep != 3 )
      mdi gui_utl_alert_box_1 &
         next="" type="Error" text="You cannot change the type of an existing simulation script. Sorry."
      int opt set opt=.gui.simulation_script_cremod.v_script_type value=(eval( .gui.simulation_script_cremod.script_type_to_keep )) exe=no
      return
   end
end
!@@@int cont und cont=.gui.simulation_script_cremod."*"
!@@@ Don't undisplay the util containers, because their finish section
!@@@ will screw up things - and they shouldn't be visible anyhow
int cont und cont=.gui.simulation_script_cremod."*"
if cond=( 3 == 1 )
   int cont display con=.gui.simulation_script_cremod.c_simple
elseif cond=( 3 == 2 )
   int cont display con=.gui.simulation_script_cremod.c_commands
elseif cond=( 3 == 3 )
   int cont display con=.gui.simulation_script_cremod.c_solver_commands
end
if cond=( "dynamic_sim" != "header" )
   if cond=( "dynamic_sim" == "convert" )
      var set var=(.gui.simulation_script_cremod.c_solver_commands.parent.container_to_redisplay) str=(eval(.gui.simulation_script_cremod.c_solver_commands))
      int cont undis cont=.gui.simulation_script_cremod.c_solver_commands
      int cont dis cont=(eval( .gui.simulation_script_cremod.c_solver_commands.parent.c_util_solver_commands ))
   elseif cond=( "dynamic_sim" == "equilibrium" )
      int field set field=.gui.simulation_script_cremod.c_solver_commands.f_solver_commands action=append string="","SIMULATE/STATIC"
   else
      int comm comm="pan set acf_twin dynamic_sim"
      int opt set opt=.gui.simulation_script_cremod.c_solver_commands.option_acf value="header" exe=yes
   end
end
int fie und fie=.gui.pan_set_acf_dyn.f_number_of_steps
int fie und fie=.gui.pan_set_acf_dyn.f_step_size
if cond=("step_size" == "number_of_steps")
   int fie dis fie=.gui.pan_set_acf_dyn.f_number_of_steps
end
if cond=("step_size" == "step_size")
   int fie dis fie=.gui.pan_set_acf_dyn.f_step_size
end
interface dialog execute dialog=.gui.pan_set_acf_dyn undisplay=yes
panel set acf_twindow dynamic_simulation  &
     &
   step_size = .1  &
   end_time = 1  &
   
interface dialog execute dialog=.gui.simulation_script_cremod undisp=yes
! .gui.simulation_script_cremod / Exe - begin ===========================
! Create mode 
if cond=( "" == "" )
   if cond=( 3 == 1 )
      simulation script create  &
           &
         type = (eval( {"dynamic","kinematic","static","auto_select"}[+1] ))  &
           &
           &
           &
          &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   elseif cond=( 3 == 2 )
      simulation script create  &
           &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   else
      simulation script create  &
         solver_commands = "! Insert ACF commands here:","SIMULATE/DYNAMIC, END=1.0, DTOUT=0.1" &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=""
   end
else
! Modify mode 
   if cond=( 3 == 1 )
      simulation script modify  &
           &
         type = (eval( {"dynamic","kinematic","static","auto_select"}[+1] ))  &
           &
           &
           &
          &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   elseif cond=( 3 == 2 )
      simulation script modify  &
           &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   else
      simulation script modify  &
         solver_commands = "! Insert ACF commands here:","SIMULATE/DYNAMIC, END=1.0, DTOUT=0.1" &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   end
   
end
! Update field if requested
if cond=( "" != "" )
   interface field set field_name= &
      strings=(eval(DB_DEFAULT_NAME_FOR_TYPE(.test.SIM_SCRIPT_1, "simulation_script")))
end
! .gui.simulation_script_cremod / Exe - begin ===========================
if cond=("" == "interactive")
   int cont undisp cont=c_scripted
   int cont disp cont=c_interactive
else
   int cont disp cont=c_scripted
   int cont undisp cont=c_interactive
end
if cond=((.gui.sim_int_panel.c_interactive.displayed == 1)) 
   if cond=((.gui.sim_int_panel.c_interactive.duration.displayed == 1)   && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Duration."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.end_time.displayed == 1) &&(eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter End Time."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.step_size.displayed == 1)    && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Step Size."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.number_of_steps.displayed == 1)   && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Steps."
return
   end
end
if cond=(.gui.fft_panel.displayed == 1) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Please close the FFT dialog_box before running the simulation."
return
end
if condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings apply &
      file =  
   end
end
var set var = .mdi.errno int=0
if cond=("Scripted" == "interactive")
   if cond=()
      simulation single reset
   end
   if cond=("" == "Forever")
      simulation single trans &
         type             =    &
         initial_static   =     &
         forever          = true               &
         
   else
      simulation single trans &
         type             =    &
         initial_static   =     &
                  &
                  &
                 &
         
      end
else
   simulation single scripted &
      sim_script_name = .test.SIM_SCRIPT_1 &
      reset_before_and_after = yes
! VERIFY MODEL: .test
! 
!    6 Gruebler Count (approximate degrees of freedom)
!    1 Moving Parts (not including ground)
! 
!    6 Degrees of Freedom for .test
! 
! There are no redundant constraint equations.
! 
! 
! Model verified successfully
end
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.sim_int_panel.run.file_to_tmp int = (eval(SET_TSF_FILE_ANALYSIS((eval(DB_DEFAULT(.system_defaults,"model"))),STOO(".gui.int_tsf_final_list"))))
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings revert
   End
End
mdi gui_utl_check_sim alert_done=no alert_stop=no
var set var = .mdi.errno int=0   ! in case a simulation is running
interface dialog undisplay dialog=.gui.sim_int_panel
interface dialog execute dialog=.gui.simulation_script_cremod undisp=yes
! .gui.simulation_script_cremod / Exe - begin ===========================
! Create mode 
if cond=( ".test.SIM_SCRIPT_1" == "" )
   if cond=( 3 == 1 )
      simulation script create  &
           &
         type = (eval( {"dynamic","kinematic","static","auto_select"}[+1] ))  &
           &
           &
           &
          &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   elseif cond=( 3 == 2 )
      simulation script create  &
           &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   else
      simulation script create  &
         solver_commands = "! Insert ACF commands here:","SIMULATE/DYNAMIC, END=1.0, DTOUT=0.01" &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   end
else
! Modify mode 
   if cond=( 3 == 1 )
      simulation script modify  &
           &
         type = (eval( {"dynamic","kinematic","static","auto_select"}[+1] ))  &
           &
           &
           &
          &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   elseif cond=( 3 == 2 )
      simulation script modify  &
           &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=(eval( .gui.simulation_script_cremod.entity_comments ))
   else
      simulation script modify  &
         solver_commands = "! Insert ACF commands here:","SIMULATE/DYNAMIC, END=1.0, DTOUT=0.01" &
         sim_script_name = .test.SIM_SCRIPT_1 &
         comments=""
   end
   
end
! Update field if requested
if cond=( "" != "" )
   interface field set field_name= &
      strings=(eval(DB_DEFAULT_NAME_FOR_TYPE(.test.SIM_SCRIPT_1, "simulation_script")))
end
! .gui.simulation_script_cremod / Exe - begin ===========================
if cond=("" == "interactive")
   int cont undisp cont=c_scripted
   int cont disp cont=c_interactive
else
   int cont disp cont=c_scripted
   int cont undisp cont=c_interactive
end
if cond=((.gui.sim_int_panel.c_interactive.displayed == 1)) 
   if cond=((.gui.sim_int_panel.c_interactive.duration.displayed == 1)   && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Duration."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.end_time.displayed == 1) &&(eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter End Time."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.step_size.displayed == 1)    && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Step Size."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.number_of_steps.displayed == 1)   && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Steps."
return
   end
end
if cond=(.gui.fft_panel.displayed == 1) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Please close the FFT dialog_box before running the simulation."
return
end
if condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings apply &
      file =  
   end
end
var set var = .mdi.errno int=0
if cond=("Scripted" == "interactive")
   if cond=()
      simulation single reset
   end
   if cond=("" == "Forever")
      simulation single trans &
         type             =    &
         initial_static   =     &
         forever          = true               &
         
   else
      simulation single trans &
         type             =    &
         initial_static   =     &
                  &
                  &
                 &
         
      end
else
   simulation single scripted &
      sim_script_name = .test.SIM_SCRIPT_1 &
      reset_before_and_after = yes
! VERIFY MODEL: .test
! 
!    6 Gruebler Count (approximate degrees of freedom)
!    1 Moving Parts (not including ground)
! 
!    6 Degrees of Freedom for .test
! 
! There are no redundant constraint equations.
! 
! 
! Model verified successfully
end
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.sim_int_panel.run.file_to_tmp int = (eval(SET_TSF_FILE_ANALYSIS((eval(DB_DEFAULT(.system_defaults,"model"))),STOO(".gui.int_tsf_final_list"))))
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings revert
   End
End
mdi gui_utl_check_sim alert_done=no alert_stop=no
var set var = .mdi.errno int=0   ! in case a simulation is running
abort stop_all_commands=yes
abort stop_all_commands=no
simulation single reset
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      file temporary_settings revert
   End
End
simulation set solver_preference = write_files_only
simulation set save_files = yes
   simulation set file_prefix = "docker_test"
interface dialog undisplay dialog=.gui.sim_set_panel
  entity modify entity = .test new = .docker_test
  interface tree refresh = true !--- UPDATE TREEVIEW
interface dialog undisplay dialog=.gui.sim_int_panel
if cond=("" == "interactive")
   int cont undisp cont=c_scripted
   int cont disp cont=c_interactive
else
   int cont disp cont=c_scripted
   int cont undisp cont=c_interactive
end
if cond=((.gui.sim_int_panel.c_interactive.displayed == 1)) 
   if cond=((.gui.sim_int_panel.c_interactive.duration.displayed == 1)   && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Duration."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.end_time.displayed == 1) &&(eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter End Time."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.step_size.displayed == 1)    && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Step Size."
return
   end
   if cond=( (.gui.sim_int_panel.c_interactive.number_of_steps.displayed == 1)   && (eval(""))==""   ) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Enter Steps."
return
   end
end
if cond=(.gui.fft_panel.displayed == 1) 
  mdi gui_utl_alert_box_1 type = "Warning" text = "Please close the FFT dialog_box before running the simulation."
return
end
if condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings apply &
      file =  
   end
end
var set var = .mdi.errno int=0
if cond=("Scripted" == "interactive")
   if cond=()
      simulation single reset
   end
   if cond=("" == "Forever")
      simulation single trans &
         type             =    &
         initial_static   =     &
         forever          = true               &
         
   else
      simulation single trans &
         type             =    &
         initial_static   =     &
                  &
                  &
                 &
         
      end
else
   simulation single scripted &
      sim_script_name = .docker_test.SIM_SCRIPT_1 &
      reset_before_and_after = yes
! WARNING:  One or more variables have less than zero threshold value, hence will be rounded off to 0 while writing data set.
end
IF condition=((Eval(.gui.sim_int_panel.filesName)[1] != ""))
   if condition=()
      variable set variable_name = .gui.sim_int_panel.run.file_to_tmp int = (eval(SET_TSF_FILE_ANALYSIS((eval(DB_DEFAULT(.system_defaults,"model"))),STOO(".gui.int_tsf_final_list"))))
      variable set variable_name = .gui.int_tsf_final_list string_value="" 
      file temporary_settings revert
   End
End
mdi gui_utl_check_sim alert_done=no alert_stop=no
var set var = .mdi.errno int=0   ! in case a simulation is running
interface field set field=message strings="" action=replace
interface field set field=message strings="" action=replace
interface dialog_box undisplay dialog_box_name = .gui.msg_box
